# Event loop

---

**Event loop (цикл событий)** - это механизм, который позволяет "асинхронно" выполнять код и обрабатывать события. Он состоит из одного или нескольких стеков вызовов (call stack) и очереди событий (event queue).

## Стек вызовов (Call Stack)

1. Это механизм для отслеживания места выполнения кода
2. Каждая вызванная функция помещается на вершину стека вызовов
3. Выполнение функции начинается с верхней функции в стеке и продолжается до ее завершения

## Очередь событий (Event Queue)

1. Здесь хранятся события, ожидающие обработки.
2. События добавляются в очередь при наступлении определенных условий, например, завершении таймера или пользовательского действия.

## Event Loop (Цикл Событий)

1. Основной механизм, который следит за стеком вызовов и очередью событий.
2. Проверяет стек вызовов и очередь событий. Если стек пуст и есть события в очереди, они перемещаются в стек вызовов для обработки.
3. Если стек не пуст, event loop ожидает его очистки перед обработкой следующего события из очереди.

## Асинхронные операции

1. JavaScript поддерживает асинхронное выполнение кода, позволяя выполнять долгие операции без блокировки интерфейса пользователя.
2. Когда выполняется асинхронная операция, она помещается в очередь событий, а выполнение кода продолжается.
3. По завершении асинхронной операции, ее обработчик добавляется в очередь событий для выполнения в будущем.

## Принцип решения задач на Event Loop

Все операции разделяем на:

1. Основной поток (обычный код + тело создания промисов)
2. Микротаски (промисы)
3. Макротаски (браузерное API, или манипуляции с DOM деревом)

Приоритет выполнения: 1 => 2 => 3

---

- [Вопросы по JavaScript](../javaScript.md)
